<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>êµ¬ë§¤ëŒ€í–‰ íŒë§¤ê°€ ê³„ì‚°ê¸°</title>
<style>
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", Arial, sans-serif; margin: 24px; }
  h1 { font-size: 20px; margin-bottom: 8px; }
  .desc { color:#444; margin-bottom:16px; }
  .card { border:1px solid #e5e7eb; border-radius:12px; padding:16px; margin-bottom:16px; }
  .row { display:flex; gap:12px; flex-wrap:wrap; }
  .field { flex:1 1 220px; min-width:220px; }
  label { display:block; font-weight:600; margin-bottom:6px; }
  input[type="number"] { width:100%; padding:10px; border:1px solid #d1d5db; border-radius:8px; font-size:16px; }
  .muted { color:#666; font-size:12px; }
  .result { font-size:18px; font-weight:700; }
  .result-line { display:flex; justify-content:space-between; margin:8px 0; }
  .total { font-size:22px; font-weight:800; }
  details { margin-top:6px; }
  .foot { color:#6b7280; font-size:12px; margin-top:16px; }
  .pill { display:inline-block; padding:4px 10px; border:1px solid #e5e7eb; border-radius:999px; font-size:12px; margin-right:6px; cursor:pointer;}
  .btn { padding:10px 14px; border:1px solid #e5e7eb; border-radius:8px; background:#fafafa; cursor:pointer; }
</style>
</head>
<body>
  <h1>êµ¬ë§¤ëŒ€í–‰ íŒë§¤ê°€ ê³„ì‚°ê¸°</h1>
  <div class="desc">ì œí’ˆê°€(USD)ì™€ êµ­ì œ ë°°ì†¡ë¹„(KRW)ë§Œ ì…ë ¥í•˜ë©´ ìµœì¢… ì†Œë¹„ìê°€(ë¶€ê°€ì„¸ í¬í•¨)ê°€ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤.<br>
  *ì˜ˆì‹œê°’(USD 100 / ë°°ì†¡ë¹„ 20,000ì›)ìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.</div>

  <div class="card">
    <div class="row">
      <div class="field">
        <label>ì œí’ˆê°€ (USD)</label>
        <input id="price_usd" type="number" min="0" step="0.01" value="100" />
      </div>
      <div class="field">
        <label>êµ­ì œ ë°°ì†¡ë¹„ (KRW)</label>
        <input id="shipping_krw" type="number" min="0" step="1" value="20000" />
      </div>
    </div>
    <details>
      <summary>ì„¤ì • (ê³ ì •ê°’ ë³´ê¸°/ìˆ˜ì •)</summary>
      <div class="row" style="margin-top:10px;">
        <div class="field">
          <label>í™˜ìœ¨ (KRW/1 USD)</label>
          <input id="fx" type="number" min="500" step="1" value="1400">
        </div>
        <div class="field">
          <label>ë¯¸êµ­ ì„¸ìœ¨</label>
          <input id="us_tax" type="number" min="0" max="1" step="0.01" value="0.10">
        </div>
        <div class="field">
          <label>ë§ˆì§„ìœ¨</label>
          <input id="margin" type="number" min="0" max="1" step="0.01" value="0.30">
        </div>
        <div class="field">
          <label>í”Œë«í¼ ìˆ˜ìˆ˜ë£Œìœ¨</label>
          <input id="fee" type="number" min="0" max="1" step="0.01" value="0.15">
        </div>
        <div class="field">
          <label>í•œêµ­ ë¶€ê°€ì„¸</label>
          <input id="vat" type="number" min="0" max="1" step="0.01" value="0.10">
        </div>
      </div>
    </details>
    <div style="margin-top:10px;"><button class="btn" onclick="compute()">ë‹¤ì‹œ ê³„ì‚°</button></div>
  </div>

  <div class="card">
    <div class="result-line"><span>â‘  ì›í™” í™˜ì‚° (USDÃ—í™˜ìœ¨)</span><span id="r1" class="result">-</span></div>
    <div class="result-line"><span>â‘¡ ë¯¸êµ­ ì„¸ê¸ˆ í¬í•¨</span><span id="r2" class="result">-</span></div>
    <div class="result-line"><span>â‘¢ ë°°ì†¡ë¹„ í¬í•¨</span><span id="r3" class="result">-</span></div>
    <div class="result-line"><span>â‘£ ë§ˆì§„ ì ìš©</span><span id="r4" class="result">-</span></div>
    <div class="result-line"><span>â‘¤ í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ ì ìš©</span><span id="r5" class="result">-</span></div>
    <div class="result-line total"><span>ğŸ’¥ ìµœì¢… ì†Œë¹„ìê°€ (ë¶€ê°€ì„¸ í¬í•¨)</span><span id="r6">-</span></div>
    <div class="muted">((USDÃ—í™˜ìœ¨)Ã—(1+ë¯¸êµ­ì„¸) + ë°°ì†¡ë¹„) Ã— (1+ë§ˆì§„) Ã— (1+ìˆ˜ìˆ˜ë£Œ) Ã— (1+ë¶€ê°€ì„¸)</div>
  </div>

  <div class="foot">ì£¼ì˜: ì‹¤ì œ í†µê´€Â·ê´€ì„¸, í•´ì™¸ê²°ì œ ìˆ˜ìˆ˜ë£Œ, í™˜ìœ¨ ìŠ¤í”„ë ˆë“œ ë“±ì€ ë³„ë„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.</div>

<script>
function fmtKRW(n){ 
  if (isNaN(n)) return "-";
  return new Intl.NumberFormat('ko-KR', { maximumFractionDigits: 0 }).format(Math.round(n)) + "ì›";
}
function val(id){ 
  const el = document.getElementById(id);
  const v = parseFloat(el.value);
  return isNaN(v) ? 0 : v;
}
function compute(){
  const priceUSD = val('price_usd');
  const shipping = val('shipping_krw');
  const fx = val('fx');
  const usTax = val('us_tax');
  const margin = val('margin');
  const fee = val('fee');
  const vat = val('vat');

  const r1 = priceUSD * fx;                  // ì›í™” í™˜ì‚°
  const r2 = r1 * (1 + usTax);               // ë¯¸êµ­ì„¸ í¬í•¨
  const r3 = r2 + shipping;                  // ë°°ì†¡ë¹„ í¬í•¨
  const r4 = r3 * (1 + margin);               // ë§ˆì§„ ì ìš©
  const r5 = r4 * (1 + fee);                  // ìˆ˜ìˆ˜ë£Œ ì ìš©
  const r6 = r5 * (1 + vat);                  // ë¶€ê°€ì„¸ í¬í•¨

  document.getElementById('r1').textContent = fmtKRW(r1);
  document.getElementById('r2').textContent = fmtKRW(r2);
  document.getElementById('r3').textContent = fmtKRW(r3);
  document.getElementById('r4').textContent = fmtKRW(r4);
  document.getElementById('r5').textContent = fmtKRW(r5);
  document.getElementById('r6').textContent = fmtKRW(r6);
}
['price_usd','shipping_krw','fx','us_tax','margin','fee','vat'].forEach(id=>{
  document.getElementById(id).addEventListener('input', compute);
});
window.addEventListener('DOMContentLoaded', compute);
</script>
</body>
</html>
